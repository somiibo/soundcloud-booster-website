!function(e,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var t=i();for(var a in t)("object"==typeof exports?exports:e)[a]=t[a]}}(self,()=>(()=>{var e={387:e=>{const i=self;function t(){const e=this;return e.serviceWorker=null,e.config=i.UJ_BUILD_JSON?.config||{},e.app=e.config?.brand?.id||"default",e.environment=e.config?.uj?.environment||"production",e.cache={breaker:e.config?.uj?.cache_breaker||(new Date).getTime()},e.cache.name=`${e.app}-${e.cache.breaker}`,e.libraries={firebase:!1,messaging:!1,promoServer:!1},e}importScripts("/build.js"),i.addEventListener("install",e=>{i.skipWaiting()}),i.addEventListener("activate",e=>{e.waitUntil(i.clients.claim())}),i.addEventListener("notificationclick",e=>{const i=e.notification,t=(i.data&&i.data.FCM_MSG?i.data.FCM_MSG.data:null)||{},a=(i.data&&i.data.FCM_MSG?i.data.FCM_MSG.notification:null)||{},n=a.click_action||t.click_action||"/";console.log("notificationclick event",e),console.log("notificationclick data",t),console.log("notificationclick payload",a),console.log("notificationclick clickAction",n),e.waitUntil(clients.openWindow(n)),i.close()}),importScripts("https://www.gstatic.com/firebasejs/12.3.0/firebase-app-compat.js","https://www.gstatic.com/firebasejs/12.3.0/firebase-messaging-compat.js"),t.prototype.initialize=function(){const e=this;return new Promise(function(t,a){return e.serviceWorker=i,e.setupInstanceHandlers(),e.initializeFirebase(),e.updateCache(),console.log("Initialized!",i.location.pathname,i),t(i)})},t.prototype.setupInstanceHandlers=function(){const e=this;i.addEventListener("message",i=>{const t=i.data||{},a=t.command||"",n=t.payload||{};if(a&&(console.log("message",a,n,i),"update-cache"===a)){const t=n.pages||[];e.updateCache(t).then(()=>{i.ports[0]?.postMessage({status:"success"})}).catch(e=>{i.ports[0]?.postMessage({status:"error",error:e.message})})}}),console.log("Set up message handlers")},t.prototype.initializeFirebase=function(){const e=this,i=e.config?.web_manager?.firebase?.app?.config;i?e.libraries.firebase?console.log("Firebase already initialized"):(console.log("Initializing Firebase v12.3.0"),firebase.initializeApp(i),e.libraries.messaging=firebase.messaging(),e.libraries.firebase=firebase):console.log("Firebase config not available yet, skipping Firebase initialization")},t.prototype.updateCache=function(e){e=e||[];const i=[...new Set(["/","/assets/css/main.bundle.css","/assets/js/main.bundle.js",...e])];return caches.open(this.cache.name).then(e=>e.addAll(i)).then(()=>console.log("Cached resources:",i)).catch(e=>console.error("Failed to cache resources:",e))},e.exports=t}},i={};function t(a){var n=i[a];if(void 0!==n)return n.exports;var o=i[a]={exports:{}};return e[a](o,o.exports,t),o.exports}return(()=>{"use strict";var e;(new(((e=t(387))&&e.__esModule?e:{default:e}).default)).initialize().then(function(){console.log("Initialized service-worker.js")})})(),{}})());