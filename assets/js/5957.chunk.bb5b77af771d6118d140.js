(self.webpackChunkultimate_jekyll=self.webpackChunkultimate_jekyll||[]).push([[5957,6002],{634:()=>{},938:()=>{},2480:()=>{},3005:()=>{},4050:()=>{},5043:()=>{},6600:()=>{},7664:()=>{},8466:()=>{},9668:(e,t,i)=>{"use strict";i.r(t),i.d(t,{init:()=>u,loadData:()=>c});var n=i(2984),a=i(4289),o=i.n(a);let s=null,r=null;function u(e){s=e,function(){const e=document.getElementById("copy-api-key-btn");e&&e.addEventListener("click",y)}(),r=new n.A("#reset-api-key-form",{autoDisable:!0,showSpinner:!0,allowMultipleSubmissions:!1,submitButtonLoadingText:"Resetting..."}),r.addEventListener("submit",async e=>{if(e.preventDefault(),await new Promise(e=>setTimeout(e,1)),!confirm("Are you sure you want to reset your API key? This will invalidate your current key and any applications using it will stop working."))return r.setFormState("ready");try{await async function(){const e=await s.auth().getIdToken(),t=s.getApiUrl()+"/backend-manager",i=await o()(t,{method:"POST",timeout:3e4,response:"json",tries:2,body:{authenticationToken:e,command:"user:regenerate-api-keys"}});if(!i.privateKey)throw new Error(i.message||"Failed to reset API key");l(i.privateKey),s.utilities().showNotification("API key has been reset successfully","success")}(),r.setFormState("ready")}catch(e){r.showError(e),r.setFormState("ready")}})}function c(e){e&&l(e.api?.privateKey)}function l(e){const t=document.getElementById("api-key-input");t&&(t.value=e||"No API key generated")}async function y(){const e=document.getElementById("api-key-input"),t=document.getElementById("copy-api-key-btn");if(e&&e.value&&"No API key generated"!==e.value)try{await s.utilities().clipboardCopy(e);const i=t.querySelector(".button-text"),n=i.textContent;i.textContent="Copied!",t.classList.remove("btn-outline-adaptive"),t.classList.add("btn-success"),setTimeout(()=>{i.textContent=n,t.classList.remove("btn-success"),t.classList.add("btn-outline-adaptive")},2e3)}catch(e){console.error("Failed to copy API key:",e),s.utilities().showNotification("Failed to copy API key","danger")}else s.utilities().showNotification("No API key to copy","warning")}}}]);