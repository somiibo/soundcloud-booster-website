"use strict";(self.webpackChunkultimate_jekyll=self.webpackChunkultimate_jekyll||[]).push([[3527],{3527:(e,t,a)=>{a.r(t),a.d(t,{getRecaptchaToken:()=>n,initializeRecaptcha:()=>c});let o=!1,r=null;async function c(e,t){if(!e)return console.warn("No reCAPTCHA site key provided"),!1;if(r=e,window.grecaptcha)return o=!0,!0;try{const a=`https://www.google.com/recaptcha/api.js?render=${e}`;return await t.dom().loadScript({src:a,async:!0,defer:!0,timeout:3e4,retries:2}),await new Promise(e=>{window.grecaptcha&&window.grecaptcha.ready?window.grecaptcha.ready(()=>{o=!0,console.log("🔐 reCAPTCHA initialized successfully"),e()}):(console.warn("grecaptcha.ready not available, using timeout fallback"),setTimeout(()=>{o=!0,e()},1e3))}),!0}catch(e){return console.error("Failed to load reCAPTCHA:",e),!1}}async function n(e="checkout"){if(!o||!r)return console.warn("reCAPTCHA not initialized"),null;try{console.log("🔐 Getting reCAPTCHA token for action:",e);const t=await grecaptcha.execute(r,{action:e});return console.log("🔐 reCAPTCHA token obtained successfully"),t}catch(e){return console.error("Failed to get reCAPTCHA token:",e),null}}}}]);