"use strict";(self.webpackChunkultimate_jekyll=self.webpackChunkultimate_jekyll||[]).push([[677,7172,7534,9707],{677:(t,e,o)=>{o.r(e),o.d(e,{buildStateFromRaw:()=>a,handleBillingCycleChange:()=>s,hideDiscountMessages:()=>g,hideError:()=>u,initializeCheckoutUI:()=>y,showDiscountError:()=>h,showDiscountLoading:()=>d,showDiscountSuccess:()=>p,showError:()=>r,updateAllUI:()=>i,updatePaymentButtonVisibility:()=>l});var c=o(9707),n=o(7172);function a(t){const e=(0,n.calculatePrices)(c.raw),o=c.raw.product?.price_monthly?12*c.raw.product.price_monthly:0,a=c.raw.product?.price_annually||0,i=o>0?Math.round((o-a)/o*100):0,s="monthly"===c.raw.billingCycle?"monthly":"annually",r=new Date,u="monthly"===c.raw.billingCycle?30:365;r.setDate(r.getDate()+u);const l=r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=t.auth().getUser();c.state.checkout.product.name=c.raw.product?.name||"Loading...",c.state.checkout.product.description=c.raw.product?.description||"Loading product details...",c.state.checkout.product.isSubscription=c.raw.product?.is_subscription||!1,c.state.checkout.pricing.monthlyPrice=c.raw.product?.price_monthly?`$${c.raw.product.price_monthly.toFixed(2)}`:"$--",c.state.checkout.pricing.annualMonthlyRate=c.raw.product?.price_annually?`$${(c.raw.product.price_annually/12).toFixed(2)}`:"$--",c.state.checkout.pricing.savingsBadge=i>0?`Save ${i}%`:"",c.state.checkout.pricing.showSavingsBadge=i>0,c.state.checkout.pricing.billingCyclePaymentText=c.raw.product?"monthly"===c.raw.billingCycle?`$${c.raw.product.price_monthly?.toFixed(2)||"--"} monthly`:`$${c.raw.product.price_annually?.toFixed(2)||"--"} annually`:"$-- monthly",c.state.checkout.pricing.productPrice=e.displayPrice||"$--",c.state.checkout.pricing.subtotal=e.subtotal?`$${e.subtotal.toFixed(2)}`:"$--",c.state.checkout.pricing.total=null!==e.total?`$${e.total.toFixed(2)}`:"$--",c.state.checkout.pricing.recurringAmount=e.recurring?`$${e.recurring.toFixed(2)}`:"$--",c.state.checkout.pricing.recurringPeriod=s,c.state.checkout.pricing.showTerms=c.raw.product?.is_subscription||!1,c.state.checkout.pricing.termsText=c.raw.product?.is_subscription&&c.raw.product?`Your ${s} subscription will start today and renew on ${l} for $${e.recurring?.toFixed(2)||"--"} plus applicable tax. Cancel anytime.`:"";const p=c.raw.product?.has_free_trial||!1;c.state.checkout.trial.show=p&&(c.raw.product?.is_subscription||!1),c.state.checkout.trial.hasFreeTrial=p&&(c.raw.product?.is_subscription||!1)&&0===e.total,c.state.checkout.trial.message=p?`Start your ${c.raw.product?.trial_days||7}-day free trial today!`:"",c.state.checkout.trial.discountAmount=p&&e.trialDiscountAmount?e.trialDiscountAmount.toFixed(2):"0.00",c.state.checkout.discount.hasDiscount=c.raw.discountPercent>0,c.state.checkout.discount.percent=c.raw.discountPercent>0?`${c.raw.discountPercent}%`:"",c.state.checkout.discount.amount=e.discountAmount?e.discountAmount.toFixed(2):"0.00",c.state.auth.user.email=d?.email||""}function i(t){a(t),console.log("ðŸ”„ Updating checkout bindings with data:",c.state),t.bindings().update(c.state)}function s(t,e){t&&t!==c.raw.billingCycle&&(c.raw.billingCycle=t),i(e)}function r(t,e){c.state.checkout.error.show=!0,c.state.checkout.error.message=t,e.bindings().update(c.state)}function u(t){c.state.checkout.error.show=!1,c.state.checkout.error.message="",t.bindings().update(c.state)}function l(t){const e=t.getAvailablePaymentMethods();c.state.checkout.paymentMethods.card=t.isPaymentMethodAvailable("card"),c.state.checkout.paymentMethods.paypal=t.isPaymentMethodAvailable("paypal"),c.state.checkout.paymentMethods.applePay=t.isPaymentMethodAvailable("apple-pay"),c.state.checkout.paymentMethods.googlePay=t.isPaymentMethodAvailable("google-pay"),c.state.checkout.paymentMethods.crypto=t.isPaymentMethodAvailable("crypto"),console.log("Payment methods set in state. Available methods:",e.map(t=>t.id))}function d(t,e){c.state.checkout.discount.loading=t,c.state.checkout.discount.success=!1,c.state.checkout.discount.error=!1,e.bindings().update(c.state)}function p(t,e){c.state.checkout.discount.loading=!1,c.state.checkout.discount.success=!0,c.state.checkout.discount.error=!1,c.state.checkout.discount.successMessage=t||"Discount applied",a(e),e.bindings().update(c.state)}function h(t,e){c.state.checkout.discount.loading=!1,c.state.checkout.discount.success=!1,c.state.checkout.discount.error=!0,c.state.checkout.discount.errorMessage=t||"Invalid discount code",e.bindings().update(c.state)}function g(t){c.state.checkout.discount.loading=!1,c.state.checkout.discount.success=!1,c.state.checkout.discount.error=!1,t.bindings().update(c.state)}function y(){console.log("ðŸš€ Initializing checkout UI")}},7172:(t,e,o)=>{o.r(e),o.d(e,{calculatePrices:()=>n});var c=o(9707);function n(t=c.raw){if(!t.product)return{subtotal:0,discountAmount:0,trialDiscountAmount:0,total:0,recurring:0,displayPrice:"$--"};let e;const o=t.product.is_subscription||!1,n=t.product.has_free_trial||!1;e=o?"monthly"===t.billingCycle?t.product.price_monthly||0:t.product.price_annually||0:t.product.price||0;const a=e,i=a*t.discountPercent/100,s=a-i;let r,u=0;n&&o?(u=s,r=0):r=s;const l=s;let d;if(o){const e="monthly"===t.billingCycle?"/mo":"/yr";d=`$${s.toFixed(2)}${e}`}else d=`$${s.toFixed(2)}`;return{subtotal:a,discountAmount:i,trialDiscountAmount:u,total:r,recurring:l,displayPrice:d}}},7534:(t,e,o)=>{o.r(e),o.d(e,{applyDiscountCode:()=>a,autoApplyWelcomeCoupon:()=>i});var c=o(9707),n=o(677);function a(t){const e=document.getElementById("discount-code"),o=document.getElementById("apply-discount"),a=e.value.trim().toUpperCase();""!==a?(o.disabled=!0,o.innerHTML='<span class="spinner-border spinner-border-sm"></span>',(0,n.showDiscountLoading)(!0,t),setTimeout(()=>{o.disabled=!1,o.textContent="Apply",c.config.discountCodes[a]?(c.state.discountPercent=c.config.discountCodes[a],(0,n.showDiscountSuccess)(`Discount applied: ${c.state.discountPercent}% off`,t)):(c.state.discountPercent=0,(0,n.showDiscountError)("Invalid discount code",t))},1e3)):(0,n.showDiscountError)("Please enter a discount code",t)}function i(t){const e=document.getElementById("discount-code");e&&(e.value="WELCOME15",a(t))}},9707:(t,e,o)=>{o.r(e),o.d(e,{config:()=>c,getPaymentIds:()=>i,raw:()=>n,state:()=>a});const c={discountCodes:{FLASH20:20,SAVE10:10,WELCOME15:15},siteConfig:null},n={product:null,billingCycle:"annually",discountPercent:0,apiKeys:null,checkoutId:null,formData:null,paymentMethod:"card"},a={checkout:{product:{name:"Loading...",description:"Loading product details...",isSubscription:!1},pricing:{monthlyPrice:"$--",annualMonthlyRate:"$--",savingsBadge:"",showSavingsBadge:!1,billingCyclePaymentText:"$-- monthly",productPrice:"$--",subtotal:"$--",total:"$--",recurringAmount:"$--",recurringPeriod:"annually",showTerms:!1,termsText:""},trial:{show:!1,hasFreeTrial:!1,message:"",discountAmount:"0.00"},discount:{loading:!1,success:!1,error:!1,hasDiscount:!1,percent:"",amount:"0.00",successMessage:"Discount applied",errorMessage:"Invalid discount code"},paymentMethods:{card:!1,paypal:!1,applePay:!1,googlePay:!1,crypto:!1},error:{show:!1,message:""}},auth:{user:{email:""}}};function i(){if(!n.product?._raw?.pricing)return{};const t="monthly"===n.billingCycle?n.product._raw.pricing.monthly:n.product._raw.pricing.annually;return{stripePriceId:t.stripePriceId,stripeProductId:t.stripeProductId,paypalPlanId:t.paypalPlanId,chargebeePlanId:t.chargebeePlanId}}}}]);