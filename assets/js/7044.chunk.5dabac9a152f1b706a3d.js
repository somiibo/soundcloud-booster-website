(self.webpackChunkultimate_jekyll=self.webpackChunkultimate_jekyll||[]).push([[1732,3375,3527,3987,6002,7044,8066,9273,9589,9707],{634:()=>{},938:()=>{},2480:()=>{},2938:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ChargebeeProcessor:()=>o});var s=t(9512);class o{constructor(e,r){this.siteKey=e,this.webManager=r}async processPayment(){try{console.log("🟢 Chargebee: Processing payment");const e=await(0,s.createPaymentIntent)(this.webManager);return console.log("🟢 Chargebee: Redirecting to hosted page:",e.redirectUrl),window.location.href=e.redirectUrl,new Promise(()=>{})}catch(e){throw e}}}},3005:()=>{},3527:(e,r,t)=>{"use strict";t.r(r),t.d(r,{getRecaptchaToken:()=>n,initializeRecaptcha:()=>a});let s=!1,o=null;async function a(e,r){if(!e)return console.warn("No reCAPTCHA site key provided"),!1;if(o=e,window.grecaptcha)return s=!0,!0;try{const t=`https://www.google.com/recaptcha/api.js?render=${e}`;return await r.dom().loadScript({src:t,async:!0,defer:!0,timeout:3e4,retries:2}),await new Promise(e=>{window.grecaptcha&&window.grecaptcha.ready?window.grecaptcha.ready(()=>{s=!0,console.log("🔐 reCAPTCHA initialized successfully"),e()}):(console.warn("grecaptcha.ready not available, using timeout fallback"),setTimeout(()=>{s=!0,e()},1e3))}),!0}catch(e){return console.error("Failed to load reCAPTCHA:",e),!1}}async function n(e="checkout"){if(!s||!o)return console.warn("reCAPTCHA not initialized"),null;try{console.log("🔐 Getting reCAPTCHA token for action:",e);const r=await grecaptcha.execute(o,{action:e});return console.log("🔐 reCAPTCHA token obtained successfully"),r}catch(e){return console.error("Failed to get reCAPTCHA token:",e),null}}},3585:(e,r,t)=>{"use strict";t.r(r),t.d(r,{StripeProcessor:()=>o});var s=t(9512);class o{constructor(e,r){this.apiKey=e,this.webManager=r}async processPayment(){try{console.log("🔵 Stripe: Processing payment");const e=await(0,s.createPaymentIntent)(this.webManager);return console.log("🔵 Stripe: Redirecting to checkout:",e.redirectUrl),window.location.href=e.redirectUrl,new Promise(()=>{})}catch(e){throw e}}}},3987:(e,r,t)=>{"use strict";function s(e,r=""){return e&&e.isDevelopment()&&"development"===r?"http://localhost:5002":"https://api.itwcreativeworks.com"}t.r(r),t.d(r,{getApiBaseUrl:()=>s})},4050:()=>{},4484:(e,r,t)=>{"use strict";t.r(r),t.d(r,{CoinbaseProcessor:()=>o});var s=t(9512);class o{constructor(e){this.webManager=e}async processPayment(){try{console.log("🪙 Coinbase: Processing crypto payment");const e=await(0,s.createPaymentIntent)(this.webManager);return console.log("🪙 Coinbase: Redirecting to checkout:",e.redirectUrl),window.location.href=e.redirectUrl,new Promise(()=>{})}catch(e){throw e}}}},5043:()=>{},6247:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PaymentProcessorManager:()=>c,paymentManager:()=>i});var s=t(3585),o=t(8663),a=t(2938),n=t(4484);t(9707);class c{constructor(){this.processors={},this.apiKeys=null}initialize(e,r){this.apiKeys=e,e?.stripe?.publishableKey&&(this.processors.stripe=new s.StripeProcessor(e.stripe.publishableKey,r)),e?.chargebee?.siteKey&&(this.processors.chargebee=new a.ChargebeeProcessor(e.chargebee.siteKey,r)),e?.paypal?.clientId&&(this.processors.paypal=new o.PayPalProcessor(e.paypal.clientId,r)),!0===e?.coinbase?.enabled&&(this.processors.coinbase=new n.CoinbaseProcessor(r))}getProcessor(e){let r;if("card"===e){const e=new URLSearchParams(window.location.search).get("_test_cardProcessor");r=e&&this.processors[e]?e:this.apiKeys?.stripe?.publishableKey&&this.processors.stripe?"stripe":this.apiKeys?.chargebee?.siteKey&&this.processors.chargebee?"chargebee":"stripe"}else r={paypal:"paypal",crypto:"coinbase"}[e];const t=this.processors[r];if(!t)throw new Error(`Payment processor "${r}" not available or not configured`);return{processor:t,name:r}}async processPayment(e){try{const{processor:r,name:t}=this.getProcessor(e);return console.log("🔄 Processing payment:",{paymentMethod:e,processor:t,apiKeys:this.apiKeys?Object.keys(this.apiKeys):[],availableProcessors:Object.keys(this.processors)}),await r.processPayment()}catch(r){throw console.error(`Payment processing error (${e}):`,r),r}}isPaymentMethodAvailable(e){try{const{processor:r}=this.getProcessor(e);return!!r}catch{return!1}}getAvailablePaymentMethods(){const e=[];if(this.processors.chargebee||this.processors.stripe)try{const{name:r}=this.getProcessor("card");e.push({id:"card",name:"Credit Card",processor:r})}catch{}return this.processors.paypal&&e.push({id:"paypal",name:"PayPal",processor:"paypal"}),this.processors.coinbase&&e.push({id:"crypto",name:"Crypto",processor:"coinbase"}),e}}const i=new c},6600:()=>{},7664:()=>{},8466:()=>{},8663:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PayPalProcessor:()=>o});var s=t(9512);class o{constructor(e,r){this.clientId=e,this.webManager=r}async processPayment(){try{console.log("🟡 PayPal: Processing payment");const e=await(0,s.createPaymentIntent)(this.webManager);return console.log("🟡 PayPal: Redirecting to checkout:",e.redirectUrl),window.location.href=e.redirectUrl,new Promise(()=>{})}catch(e){throw e}}}},9512:(e,r,t)=>{"use strict";t.r(r),t.d(r,{createPaymentIntent:()=>i});var s=t(9707),o=t(3527),a=t(3987),n=t(4289),c=t.n(n);async function i(e){try{const r=await(0,o.getRecaptchaToken)("payment_intent"),t=s.state.paymentIntentData||{};t.verification={...t.verification,"g-recaptcha-response":r};const n=`${(0,a.getApiBaseUrl)(e,"development")}/payment/intent`;console.log("🚀 Sending payment intent request:",{url:n,processor:t.processor,data:t});const i=await c()(n,{method:"POST",response:"json",body:t});if(console.log("✅ Payment intent created:",i),!i.redirectUrl)throw new Error("No checkout URL returned from server");return i}catch(e){throw console.error("Payment intent request error:",e),e}}},9707:(e,r,t)=>{"use strict";t.r(r),t.d(r,{config:()=>s,getPaymentIds:()=>n,raw:()=>o,state:()=>a});const s={discountCodes:{FLASH20:20,SAVE10:10,WELCOME15:15},siteConfig:null},o={product:null,billingCycle:"annually",discountPercent:0,apiKeys:null,checkoutId:null,formData:null,paymentMethod:"card"},a={checkout:{product:{name:"Loading...",description:"Loading product details...",isSubscription:!1},pricing:{monthlyPrice:"$--",annualMonthlyRate:"$--",savingsBadge:"",showSavingsBadge:!1,billingCyclePaymentText:"$-- monthly",productPrice:"$--",subtotal:"$--",total:"$--",recurringAmount:"$--",recurringPeriod:"annually",showTerms:!1,termsText:""},trial:{show:!1,hasFreeTrial:!1,message:"",discountAmount:"0.00"},discount:{loading:!1,success:!1,error:!1,hasDiscount:!1,percent:"",amount:"0.00",successMessage:"Discount applied",errorMessage:"Invalid discount code"},paymentMethods:{card:!1,paypal:!1,applePay:!1,googlePay:!1,crypto:!1},error:{show:!1,message:""}},auth:{user:{email:""}}};function n(){if(!o.product?._raw?.pricing)return{};const e="monthly"===o.billingCycle?o.product._raw.pricing.monthly:o.product._raw.pricing.annually;return{stripePriceId:e.stripePriceId,stripeProductId:e.stripeProductId,paypalPlanId:e.paypalPlanId,chargebeePlanId:e.chargebeePlanId}}}}]);