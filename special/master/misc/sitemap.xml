---
layout: null
permalink: /sitemap.xml
sitemap:
  include: false
---
{%- if site.sitemap.enable != false -%}
  <?xml version="1.0" encoding="UTF-8"?>
  <urlset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd" xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    {% assign default_time = site.time | date_to_xmlschema %}
    {% for post in site.posts %}
      <url>
        <loc>{{ site.url }}{{ post.url }}</loc>

        {%- if post.sitemap.lastmod == null -%}
          <lastmod>{{ default_time }}</lastmod>
        {%- else -%}
          <lastmod>{{ post.sitemap.lastmod | date_to_xmlschema }}</lastmod>
        {%- endif -%}

        {%- if post.sitemap.changefreq == null -%}
        <changefreq>weekly</changefreq>
        {%- else -%}
        <changefreq>{{ post.sitemap.changefreq }}</changefreq>
        {%- endif -%}

        {%- if post.sitemap.priority == null -%}
        <priority>0.7</priority>
        {%- else -%}
        <priority>{{ post.sitemap.priority }}</priority>
        {%- endif -%}

      </url>
    {% endfor %}
    {% for page in site.pages %}
      {%- if page.url contains '/@reference/' -%}
      {%- elsif page.sitemap.include != false -%}
      <url>
        <loc>{{ site.url }}{{ page.url }}</loc>

        {%- if page.sitemap.lastmod == null -%}
        <lastmod>{{ default_time }}</lastmod>
        {%- else -%}
        <lastmod>{{ page.sitemap.lastmod | date_to_xmlschema }}</lastmod>
        {%- endif -%}

        {%- if page.sitemap.changefreq == null -%}
        <changefreq>weekly</changefreq>
        {%- else -%}
        <changefreq>{{ page.sitemap.changefreq }}</changefreq>
        {%- endif -%}

        {%- if page.sitemap.priority == null -%}
        <priority>0.5</priority>
        {%- else -%}
        <priority>{{ page.sitemap.priority }}</priority>
        {%- endif -%}

       </url>
      {%- endif -%}
    {% endfor %}
  </urlset>
{%- endif -%}
